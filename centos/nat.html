

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  <meta content="How to setup and configure a router and/or a simple NAT service in CentOS" name="description" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; default-src 'self'; style-src 'self' https://github.githubassets.com/ cdn.jsdelivr.net stackpath.bootstrapcdn.com; script-src 'self'; img-src 'self'; media-src 'self'; font-src 'self' fonts.gstatic.com cdn.jsdelivr.net stackpath.bootstrapcdn.com;">
  
  
  <title>NAT/Router &mdash; Linux Guide and Hints</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="../_static/css/prism-okaidia.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/toggle.css" type="text/css" />
    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OpenLDAP" href="openldap.html" />
    <link rel="prev" title="FreeIPA" href="freeipa.html" /> 

  <noscript>
      <link rel="stylesheet" href="../_static/css/nojs.css" type="text/css">
  </noscript>

</head>

<body class="wy-body-for-nav" role="document">
<a class="sr-only sr-only-focusable" href="#main">Skip to main content</a>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Linux Guide and Hints
          

          
            
            <img src="../_static/img/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.6
              </div>
            
          

          
<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <div role="search">
        <input type="text" aria-label="Search docs" name="q" placeholder="Search docs" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </div>
</form>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Errata</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../errata/removed.html">Errata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../errata/removed.html#removed-articles">Removed articles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../errata/removed.html#removed-information">Removed information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../errata/upcoming.html">Upcoming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../errata/upcoming.html#annoucements">Annoucements</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Security</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../security/antipatterns.html">Anti-patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../security/antipatterns.html#not-using-https">Not using HTTPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security/antipatterns.html#insecure-requests">Insecure requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/antipatterns.html#using-insecure-ciphers">Using insecure ciphers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security/antipatterns.html#password-security">Password security</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security/antipatterns.html#using-deprecated-hashing-functions">Using deprecated hashing functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/antipatterns.html#arbitrary-password-lengths">Arbitrary password lengths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/antipatterns.html#client-side-hashing">Client-side hashing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security/antipatterns.html#disabling-mitigations">Disabling mitigations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/antipatterns.html#disabling-selinux">Disabling SELinux</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security/passwords.html">Password management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../security/passwords.html#backing-your-databases-up-to-your-phone">Backing your databases up to your phone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/passwords.html#faq">FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security/passwords.html#isn-t-using-a-single-password-bad">Isn’t using a single password bad?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/passwords.html#but-your-master-password-can-be-stolen-by-a-keylogger">But your master password can be stolen by a keylogger</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/euphemism.html">The Euphemism Review</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/euphemism.html#please-don-t-say-timeframe">Please don’t say “timeframe”</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc/ipv6he.html">Hurricane Electric IPv6 Tunnel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/mingw.html">MinGW</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/mingw.html#why-not-use-wsl">Why not use WSL?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc/port465.html">Is port 465 deprecated?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/vnc.html">VNC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../misc/vnc.html#setup">Setup</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Fedora</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../gettingstarted.html#other-things-negativo17-related">Other things negativo17 related</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/backups.html">Backups</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/backups.html#id1">Duplicity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/backups.html#gpg">GPG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/backups.html#keychain">Keychain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/backups.html#unattended-backups">Unattended backups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/backups.html#id3">git-annex</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/bup.html">Bup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/cipc.html">Cisco IP Communicator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/cipc.html#installing-via-playonlinux">Installing via PlayOnLinux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/cipc.html#installing-via-regular-wine">Installing via Regular Wine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/cipc.html#pulse-audio">Pulse Audio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/clang.html">Clang</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/clang.html#msan-line-numbers">MSan line numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/clang.html#clang-format">clang-format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/copr.html">COPR</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/copr.html#gzdoom">gzdoom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/copr.html#ircd">ircd</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/dnscrypt.html">dnscrypt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/docker.html">Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/docker.html#changing-the-data-directory">Changing the data directory</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/emulators.html">Emulators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#dolphin">Dolphin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#wii-controls">Wii controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#game-idiosyncrasies">Game idiosyncrasies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fedora/emulators.html#paper-mario-the-thousand-year-door">Paper Mario: The Thousand-Year Door</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#retroarch">RetroArch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#building-beetle-psx-libretro-mednafen">Building beetle-psx-libretro (mednafen)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#enabling-the-vulkan-renderer-and-32-bit-color">Enabling the Vulkan renderer and 32-bit color</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#shaders">Shaders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#mednafen-randomly-speeds-up">mednafen randomly speeds up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#mupen64plus-unofficial-faq">Mupen64Plus unofficial FAQ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#where-does-mupen64plus-like-to-put-files">Where does Mupen64Plus like to put files?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#i-m-getting-a-dlopen-error">I’m getting a <code class="docutils literal notranslate"><span class="pre">dlopen</span></code> error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#keycode-values">Keycode values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#i-changed-one-of-the-hi-res-textures-and-no-change-is-visible">I changed one of the hi-res textures and no change is visible</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#recommended-plugins">Recommended plugins?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#how-do-i-compile-it">How do I compile it?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#gba">GBA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#id1">MAME</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fedora/emulators.html#example-mame-ini">Example <code class="docutils literal notranslate"><span class="pre">mame.ini</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../fedora/emulators.html#example-command-line-options">Example command line options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#speed">Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#ui-script">UI script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#id2">mGBA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#controller-joystick-issue">Controller/joystick issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#building">Building</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fedora/emulators.html#cmake-variables">CMake variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../fedora/emulators.html#dependencies">Dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#link-cable-support">Link cable support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#id3">BGB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#id4">mGBA</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/emulators.html#kega-fusion">Kega Fusion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#id5">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#id6">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/emulators.html#no-sound">No Sound?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/firefox.html">Firefox</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/firefox.html#disable-automatic-redirect-to-a-website-if-typing-an-invalid-url">Disable automatic redirect to a website if typing an invalid URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/firefox.html#glitchy-ui-when-using-custom-gtk-theme">Glitchy UI when using custom GTK theme</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/firefox.html#disable-network-http-referer-spoofsource">Disable <code class="docutils literal notranslate"><span class="pre">network.http.referer.spoofSource</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/gcc.html">GCC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gcc.html#installing-prerequisites-gmp-mpfr-mpc">Installing prerequisites: GMP, MPFR, MPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gcc.html#building">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gcc.html#docker">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gcc.html#invalid-instruction-suffix-for">“invalid instruction suffix for”</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/git.html">Git</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/git.html#setting-up-cloudflare-and-github-pages">Setting up Cloudflare and Github pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/git.html#gpg">GPG</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/gitlab.html">Gitlab</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gitlab.html#ssh-and-git-access">SSH and Git access</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gitlab.html#enabling-https-with-let-s-encrypt">Enabling HTTPS with Let’s Encrypt</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/gnometips.html">GNOME Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gnometips.html#system-tray">System Tray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gnometips.html#add-minimize-maximize">Add minimize/maximize</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/gnometips.html#pidgin">Pidgin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/grub.html">GRUB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/grub.html#fedora-grub-menu-missing">Fedora Grub Menu Missing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/iphone.html">iPhone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/kubernetes.html">Kubernetes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/kubernetes.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/mcafee.html">McAfee</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/misc.html">Misc</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#using-ld-library-path-in-fish">Using <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> in Fish</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#unable-to-find-liblzma">Unable to find <code class="docutils literal notranslate"><span class="pre">LibLZMA</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#unable-to-find-wxwidgets">Unable to find <code class="docutils literal notranslate"><span class="pre">wxWidgets</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#update-all-repositories-in-the-current-directory">Update all repositories in the current directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#youcompleteme-crashes-due-to-libtinfo-so-version-mismatch">YouCompleteMe crashes due to <code class="docutils literal notranslate"><span class="pre">libtinfo.so</span></code> version mismatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#keepasshttp-no-longer-works">KeePassHttp no longer works</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#disable-tcp-ip-and-use-sockets-for-mysql">Disable TCP/IP and use sockets for MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#selinux-is-preventing-abrt-action-sav-from-write-access-on-the-directory-var-lib-rpm">SELinux is preventing <code class="docutils literal notranslate"><span class="pre">abrt-action-sav</span></code> from write access on the directory /var/lib/rpm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#swapping-desktop-environments">Swapping Desktop Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/misc.html#upon-logging-into-xfce-desktop-freezes-until-you-switch-to-another-tty">Upon logging into XFCE, desktop freezes until you switch to another TTY</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/mpv.html">mpv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/negativo.html">negativo17 repositories and Nvidia drivers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/negativo.html#multimedia">Multimedia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/negativo.html#nvidia">Nvidia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/negativo.html#dkms">DKMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/pip.html">pip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/powerline.html">Powerline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/powerline.html#installing-via-dnf">Installing via <code class="docutils literal notranslate"><span class="pre">dnf</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/powerline.html#enabling-powerline-installed-via-dnf">Enabling powerline (installed via <code class="docutils literal notranslate"><span class="pre">dnf</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/powerline.html#fish">Fish</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../fedora/powerline.html#oh-my-fish">oh-my-fish</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/powerline.html#vim">vim</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/powerline.html#tmux">tmux</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/pulseaudio.html">Pulseaudio</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/pulseaudio.html#flat-volume">Flat Volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/pulseaudio.html#sound-crackling">Sound Crackling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/tmux.html">tmux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/vim.html">vim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/vim.html#plugins">Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/virtualbox.html">VirtualBox</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/virtualbox.html#failed-to-start-load-kernel-modules-after-uninstalling">“Failed to start Load Kernel Modules” after uninstalling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/virtualbox.html#kernel-modules-do-not-build-upon-kernel-update">Kernel modules do not build upon kernel update</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/vmware.html">VMware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/winetips.html">Wine Tips</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/winetips.html#out-of-memory-errors">Out of memory errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/winetips.html#new-vegas">New Vegas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/winetips.html#modding">Modding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fedora/winetips.html#loot">LOOT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/winetips.html#gmdx">GMDX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/winetips.html#proton">Proton</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fedora/winetips.html#mf-install">mf_install</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fedora/xscreensaver.html">XScreenSaver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fedora/xscreensaver.html#gamma-or-brightness-is-too-high-when-unlocking">Gamma or brightness is too high when unlocking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fedora/xscreensaver.html#disable-fade-to-black-effect">Disable fade to black effect</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">CentOS</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="builds.html">Auto-Provisioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="freeipa.html">FreeIPA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#tutorial-preface-notes-and-recommendations">Tutorial Preface, Notes, and Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#dns">DNS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#delegation">Delegation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#server-setup">Server Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#required-packages">Required Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#replica">Replica</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#replica-automation">Replica Automation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#server-migration-upgrade">Server Migration/Upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#active-directory-trust">Active Directory Trust</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#disable-anonymous-bind">Disable Anonymous Bind</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#client-setup">Client Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#rhel-7-8">RHEL 7 &amp; 8</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#mac-clients">Mac Clients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#discovery-and-settings">Discovery and Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#suse">SUSE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#hbac">HBAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#sudo">SUDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#legacy-client-setup">Legacy Client Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#solaris-10">Solaris 10</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#solaris-11">Solaris 11</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#automated-scripts">Automated Scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#ad-trust-double-uid">AD Trust Double UID</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#omnios-illumos">OmniOS/Illumos</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#legacy-hbac">Legacy HBAC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#id2">Solaris 10</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#id3">Solaris 11</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#omnios">Omnios</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#pam-hbac-conf">pam_hbac.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#pam-configuration">PAM Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#login-with-ad-users-to-legacy-clients">Login with AD Users to Legacy Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#legacy-active-directory-trust-notes">Legacy Active Directory Trust Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#domain-resolution-order-oddness">Domain Resolution Order Oddness</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#solaris-weirdness">Solaris Weirdness</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#domain-options">Domain Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#remove-realm-for-ad-users">Remove &#64;realm for AD users</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#ad-and-ipa-group-names-with-short-names">AD and IPA group names with short names</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#sites-and-ad-dc-s">Sites and AD DC’s</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#rhel-6-sudo-and-default-domain-suffix">RHEL 6 SUDO and Default Domain Suffix</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#set-default-shell-for-ad-users">Set Default Shell for AD Users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#automated-kerberos-principals">Automated Kerberos Principals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#hadoop-cloudera">Hadoop/Cloudera</a><ul>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#cloudera-manager-woes">Cloudera Manager Woes</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeipa.html#the-solution">The Solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#dns-forwarding">DNS Forwarding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#dns-forwarding-to-dot">DNS Forwarding to DoT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#logging">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#audit-logs">Audit Logs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#certificates">Certificates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#renewed-ipa-http-certificate-stuck">Renewed IPA HTTP Certificate Stuck</a></li>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#ca-related-certificates-stuck">CA Related Certificates Stuck</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="freeipa.html#kerberos">Kerberos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="freeipa.html#accounts-with-otp-enabled">Accounts with OTP Enabled</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">NAT/Router</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interface-setup">Interface Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#firewalld">FirewallD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#iptables">iptables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nftables">nftables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ipv6-forwarding">IPv6 Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dhcp">DHCP</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="openldap.html">OpenLDAP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#tutorial-preface-notes-and-recommendations">Tutorial Preface, Notes, and Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#packages">Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#certificates">Certificates</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#ldap-server-configuration">LDAP Server Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#ldap-structure">LDAP Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#add-users-via-migration">Add Users via Migration</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#add-users-via-ldif">Add Users via LDIF</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#nfs-export-home-directories">NFS Export Home Directories</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#firewall">Firewall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#client">Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#rhel-6-rhel-7-fedora-20">RHEL 6/RHEL 7/Fedora 20+</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#automounting-home-directories">Automounting Home Directories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="openldap.html#ldap-structure-add-ons">LDAP Structure Add-ons</a><ul>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#sudo">SUDO</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#member-groups">Member Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#referential-integrity">Referential Integrity</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#acl">ACL</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#disable-anonymous-binding">Disable Anonymous Binding</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#ldap-logging">LDAP Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="openldap.html#password-policy">Password Policy</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sysadmin.html">The System Administrator Experience</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sysadmin.html#recommendations">Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysadmin.html#certification-completions">Certification Completions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysadmin.html#notes-and-changelog">Notes and Changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysadmin.html#begin">Begin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#setup-a-kvm-hypervisor">Setup a KVM Hypervisor</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#dhcp-and-dns">DHCP and DNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#server-and-content-management">Server and Content Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#connect-content-management-to-hypervisor">Connect Content Management to Hypervisor</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#spin-up-vm-s-using-katello-spacewalk">Spin Up VM’s Using Katello/Spacewalk</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#setup-freeipa">Setup FreeIPA</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#spin-up-two-vm-s-for-databases">Spin Up Two VM’s for Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#spin-up-configuration-management">Spin Up Configuration Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#spin-up-vm-for-nfs-iscsi">Spin Up VM for NFS/iSCSI</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#deploy-bacula-server">Deploy Bacula Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#deploy-four-vm-s">Deploy Four VM’s</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#deploy-load-balancer-vm">Deploy Load Balancer VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#deploy-postfix-vm">Deploy Postfix VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#setup-nagios-vm">Setup Nagios VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#setup-syslog-vm">Setup Syslog VM</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#document-your-work">Document Your Work</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#rpm-build-server">RPM Build Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#git-server">Git Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysadmin.html#ansible">Ansible</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unbound.html">Unbound</a><ul>
<li class="toctree-l2"><a class="reference internal" href="unbound.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="unbound.html#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="unbound.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="unbound.html#dns-over-tls-dot">DNS over TLS (DoT)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">MacOS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../macos/image.html">Create macOS ISO Images</a></li>
</ul>
<p class="caption"><span class="caption-text">Training Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training/ex362.html">EX362 Exam Prep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#exam-information">Exam Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#hardware-recommendations">Hardware Recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#installing-freeipa-red-hat-idm-with-replicas-for-growth-and-scale">Installing FreeIPA/Red Hat IdM with replicas for growth and scale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#creating-users-groups-and-policies">Creating Users, Groups, and Policies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../training/ex362.html#new-passwords-expired">New Passwords Expired</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#install-and-configure-idm-clients">Install and configure IdM Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#configure-roaming-automounted-home-directories">Configure roaming/automounted home directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#use-the-rest-api-to-query-idm">Use the REST api to query IdM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#configure-kerberized-services">Configure Kerberized services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#create-a-trust-with-active-directory">Create a trust with Active Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#configure-control-policies-and-user-access">Configure/control policies and user access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../training/ex362.html#rbac">RBAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../training/ex362.html#hbac">HBAC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#configure-and-manage-a-certificate-authority">Configure and manage a certificate authority</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#back-up-an-idm-infrastructure">Back up an IdM infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#configure-idm-as-an-ldap-backend-for-external-services">Configure IdM as an LDAP backend for external services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../training/ex362.html#kerberos">Kerberos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex362.html#implement-a-sso">Implement a SSO</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../training/ex407.html">EX407 Exam Prep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../training/ex407.html#overview">Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../training/ex415.html">EX415 Exam Prep</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#exam-information">Exam Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#use-red-hat-ansible-engine">Use Red Hat Ansible Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#configure-intrusion-detection">Configure Intrusion Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#configure-encrypted-storage">Configure Encrypted Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#restrict-usb-devices">Restrict USB Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#manage-system-login-security-using-pluggable-authentication-modules-pam">Manage System Login Security using Pluggable Authentication Modules (PAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#configure-system-auditing">Configure System Auditing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#configure-selinux">Configure SELinux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../training/ex415.html#package-binary-glossary">Package &amp; Binary Glossary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../training/ex415.html#command-glossary">Command Glossary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../training/ex415.html#enforce-security-compliance">Enforce Security Compliance</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">About Us</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/contributors.html">Contributors</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Linux Guide and Hints</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>NAT/Router</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/nazunalika/linux-guide-and-hints/blob/master/source/centos/nat.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <main role="main" id="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nat-router">
<h1><a class="toc-backref" href="#id1">NAT/Router</a><a class="headerlink" href="#nat-router" title="Permalink to this headline">¶</a></h1>
<p>This page goes over setting up a router or a simple NAT service for CentOS.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#nat-router" id="id1">NAT/Router</a><ul>
<li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li>
<li><a class="reference internal" href="#tutorial" id="id3">Tutorial</a><ul>
<li><a class="reference internal" href="#interface-setup" id="id4">Interface Setup</a></li>
<li><a class="reference internal" href="#firewalld" id="id5">FirewallD</a></li>
<li><a class="reference internal" href="#iptables" id="id6">iptables</a></li>
<li><a class="reference internal" href="#nftables" id="id7">nftables</a></li>
<li><a class="reference internal" href="#ipv6-forwarding" id="id8">IPv6 Forwarding</a></li>
<li><a class="reference internal" href="#dhcp" id="id9">DHCP</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Here are the list of requirements below.</p>
<ul class="simple">
<li>CentOS 7, 8 or Fedora</li>
<li>An active internet connection to install the packages required or available internal mirrors</li>
<li>A system with at least two (2) network interfaces</li>
</ul>
</div>
<div class="section" id="tutorial">
<h2><a class="toc-backref" href="#id3">Tutorial</a><a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<div class="section" id="interface-setup">
<h3><a class="toc-backref" href="#id4">Interface Setup</a><a class="headerlink" href="#interface-setup" title="Permalink to this headline">¶</a></h3>
<p>To properly setup the system, a few things have to be done.</p>
<ol class="arabic simple">
<li>One interface must be the WAN interface, in most cases this is set to DHCP.</li>
<li>Another interface must be the LAN interface or a group of interfaces must become a bridge with a static address</li>
<li>ip_forward must be turned on - optionally if you have ipv6, turn on that forwarding as well</li>
</ol>
<div class="card">
<div class="card-header bg-info">
<i class='fa fa-exclamation-circle'></i> Note</div><div class="card-body">
<h5 class="card-title">
IPv6 and NAT</h5>If you have an IPv6 prefix, whether it’s from your ISP or it’s a brokered prefix from he.net, NAT is generally not needed. Instead of using NAT for IPv6, you can just do simple forwarding. This is covered in a later section.</div></div>
</div>
<div class="section" id="firewalld">
<h3><a class="toc-backref" href="#id5">FirewallD</a><a class="headerlink" href="#firewalld" title="Permalink to this headline">¶</a></h3>
<p>When using firewalld, CentOS 7+ and all Fedora’s can setup a simple NAT with masquerade without having to know iptables or nftables syntax. This may be more or less ideal for some users who want to quickly get a NAT and router going. The drawback is that the syntax and knowing how the rules work are hidden behind a frontend. To setup a NAT:</p>
<pre><code class="language-shell"># Tell eth0 to be our WAN
% nmcli con mod eth0 connection.zone external
# Tell eth1 to be our LAN (or a bridge if you have one)
% nmcli con mod eth1 connection.zone internal
# Doesn't hurt to re-up
% nmcli con up eth0 ; nmcli con up eth1

# The external zone already has masquerade on, but just in case
% firewall-cmd --zone=external --add-masquerade --permanent
% firewall-cmd --complete-reload
% firewall-cmd --get-active-zones
external
  interfaces: eth0
internal
  interfaces: eth1</code></pre></div>
<div class="section" id="iptables">
<h3><a class="toc-backref" href="#id6">iptables</a><a class="headerlink" href="#iptables" title="Permalink to this headline">¶</a></h3>
<div class="card">
<div class="card-header bg-warning">
<i class='fa fa-exclamation-circle'></i> Warning</div><div class="card-body">
<h5 class="card-title">
CentOS 7 or older</h5>This is for CentOS 7 or Fedora where iptables is the default. While nftables can be installed on CentOS 7, the NAT functionality does not seem to work properly. This may have changed. Use nftables at your own risk.</div></div>
<p>To setup NAT with iptables, the following will suffice as the building blocks. Assuming eth0 is the WAN and eth1 is the LAN.</p>
<pre><code class="language-shell">% systemctl disable firewalld --now
% systemctl mask firewalld
% yum install iptables-services
% systemctl enable iptables --now
% iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
% iptables -I FORWARD 1 -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT
% iptables -I FORWARD 2 -i eth1 -o eth0 -j ACCEPT
% iptables-save > /etc/sysconfig/iptables
# Verify that the final FORWARD rule is a reject.
% iptables -nvL
% iptables -t nat -nvL
# If it is not, manually modify the file... it should look like this:
. . .
-A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT
-A FORWARD -i eth1 -o eth0 -j ACCEPT
-A FORWARD -j REJECT --reject-with icmp-host-prohibited
. . .
# Optionally, you can set the jump to DROP instead.
# If you modify the file, run...
% iptables-restore < /etc/sysconfig/iptables</code></pre></div>
<div class="section" id="nftables">
<h3><a class="toc-backref" href="#id7">nftables</a><a class="headerlink" href="#nftables" title="Permalink to this headline">¶</a></h3>
<div class="card">
<div class="card-header bg-warning">
<i class='fa fa-exclamation-circle'></i> Warning</div><div class="card-body">
<h5 class="card-title">
CentOS 8 or Fedora Only</h5>This is for CentOS 8 or Fedora where nftables is the default. While iptables exists for CentOS 8 still, it is being superseded by nftables. It is recommended to stick with nftables.</div></div>
<p>The syntax for nftables is a little tricky and quite different from what we may be used to with iptables. This may be an oversimplification and may or may not work. For ideas, you can view the files in /etc/nftables. This is a rough example of what I tried on migration to CentOS 8.</p>
<pre><code class="language-shell"># Disable firewalld, we'll enable nftables later
% systemctl disable firewalld --now
% systemctl mask firewalld
# Flush all rules
% nft flush ruleset</code></pre><p>Rest coming soon.</p>
</div>
<div class="section" id="ipv6-forwarding">
<h3><a class="toc-backref" href="#id8">IPv6 Forwarding</a><a class="headerlink" href="#ipv6-forwarding" title="Permalink to this headline">¶</a></h3>
<p>Coming soon.</p>
</div>
<div class="section" id="dhcp">
<h3><a class="toc-backref" href="#id9">DHCP</a><a class="headerlink" href="#dhcp" title="Permalink to this headline">¶</a></h3>
<p>Optional. Coming soon</p>
</div>
</div>
</div>


           </div>
           
          </main>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="openldap.html" class="btn btn-neutral float-right" title="OpenLDAP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="freeipa.html" class="btn btn-neutral" title="FreeIPA" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, remyabel, nazunalika

    </p>
    <p>We are not affiliated with Red Hat&reg;, Fedora&reg;, Rocky Linux&reg; or CentOS&reg;.</p>
    <p>Red Hat&reg;, Fedora&reg; and CentOS&reg; are registered trademarks of Red Hat, Inc. in the United States and other countries.</p>
    <p>Linux&reg; is the registered trademark of Linus Torvalds in the U.S. and other countries.</p>
    <p>Rocky Linux&reg; is a registered trademark of the Rocky Enterprise Software Foundation. Inc. in the United States.</p>
    <p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  

  <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/js/documentation_options.js" defer></script>
      <script type="text/javascript" src="../_static/jquery.js" defer></script>
      <script type="text/javascript" src="../_static/underscore.js" defer></script>
      <script type="text/javascript" src="../_static/doctools.js" defer></script>
      <script type="text/javascript" src="../_static/js/prism.min.js" defer></script>
      <script type="text/javascript" src="../_static/js/components/prism-bash.min.js" defer></script>
      <script type="text/javascript" src="../_static/js/components/prism-docker.min.js" defer></script>
      <script type="text/javascript" src="../_static/js/prism-freeipa.min.js" defer></script>
      <script type="text/javascript" src="../_static/js/toggle.js" defer></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js" defer></script>
  

  <script type="text/javascript" src="../_static/js/stickynav.js" defer></script> 

</body>
</html>